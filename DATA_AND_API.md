# ğŸ“Š ë°ì´í„° ë° API ì‚¬ìš© í˜„í™© (ìƒì„¸)

## ğŸ“ í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ ë°ì´í„°

### 1. Mock ë°ì´í„° (ëª©ì—… ë°ì´í„°)
**íŒŒì¼ ìœ„ì¹˜**: `src/data/mockClimateData.js`

#### 1.1 ë…¹ì§€ì‹œì„¤ ë°ì´í„° (`greenLocations`)
ê²½ê¸°ë„ ì£¼ìš” ê³µì›, ë¬´ë”ìœ„ì‰¼í„°, ì‚°ì±…ë¡œ ì •ë³´ë¥¼ ë‹´ì€ ë°°ì—´ì…ë‹ˆë‹¤.

**ë°ì´í„° êµ¬ì¡°**:
```javascript
{
  id: number,              // ê³ ìœ  ì‹ë³„ì (1, 2, 3, ...)
  name: string,            // ì¥ì†Œëª… (ì˜ˆ: "ê´‘êµ í˜¸ìˆ˜ê³µì›")
  lat: number,             // ìœ„ë„ (ì˜ˆ: 37.283)
  lng: number,             // ê²½ë„ (ì˜ˆ: 127.062)
  type: "PARK" | "SHELTER" | "TRAIL",  // ì¥ì†Œ íƒ€ì…
  score: number,           // ê·¸ë¦° ìŠ¤ì½”ì–´ (0-100ì )
  details: {
    pm10Reduction: number,      // ë¯¸ì„¸ë¨¼ì§€ ì €ê° ë“±ê¸‰ (0-100)
    carbonAbsorption: number,    // íƒ„ì†Œ í¡ìˆ˜ëŸ‰ (í†¤/ë…„)
    thermalComfort: number,      // ì—´ì¾Œì ì„± ë“±ê¸‰ (0-100)
    greenCoverage: number,       // ë…¹ì§€ ë©´ì  ë¹„ìœ¨ (0-100%)
  }
}
```

**ë°ì´í„° ì˜ˆì‹œ**:
- ì´ 7ê°œì˜ ë…¹ì§€ì‹œì„¤ ë°ì´í„° í¬í•¨
- ê³µì›(PARK): 3ê°œ (ê´‘êµ í˜¸ìˆ˜ê³µì›, ì˜í†µ ì¤‘ì•™ê³µì›, ë§í¬ ê·¼ë¦°ê³µì›)
- ë¬´ë”ìœ„ì‰¼í„°(SHELTER): 2ê°œ (ì¸ê³„ë™ ë¬´ë”ìœ„ì‰¼í„°, ìœ¨ì „ ì‰¼í„°)
- ì‚°ì±…ë¡œ(TRAIL): 2ê°œ (ìˆ˜ì›ì²œ ì‚°ì±…ë¡œ, ì²­ëª… ìˆ²ê¸¸)

**ì‚¬ìš© ìœ„ì¹˜**:
- `src/components/Map/GreenMap.jsx`: ì§€ë„ ë§ˆì»¤ í‘œì‹œ
- `src/components/Map/LocationModal.jsx`: ìƒì„¸ ì •ë³´ ëª¨ë‹¬
- `src/utils/mapIntegration.js`: ì¶”ì²œ ì¥ì†Œ ê³„ì‚°
- `src/utils/habitLocationMapper.js`: ìŠµê´€-ì¥ì†Œ ë§¤í•‘

**ë°ì´í„° ì²˜ë¦¬**:
- `scoreCalculator.js`ì˜ `calculateGreenScore()`ë¡œ ê·¸ë¦° ìŠ¤ì½”ì–´ ê³„ì‚°
- `environmentalImpact.js`ì˜ `calculateLocationImpact()`ë¡œ í™˜ê²½ ê¸°ì—¬ë„ ê³„ì‚°
- `habitLocationMapper.js`ì˜ `getRecommendedLocationsByHabits()`ë¡œ ì¶”ì²œ ì¥ì†Œ í•„í„°ë§

#### 1.2 ì£¼ê±°êµ¬ì—­ ë°ì´í„° (`residentialZones`)
ê²½ê¸°ë„ ì£¼ê±°êµ¬ì—­ë³„ í™˜ê²½ ë¶„ì„ ë°ì´í„°ì…ë‹ˆë‹¤.

**ë°ì´í„° êµ¬ì¡°**:
```javascript
{
  id: string,             // êµ¬ì—­ ID (ì˜ˆ: "zone-1")
  name: string,           // êµ¬ì—­ëª… (ì˜ˆ: "ê´‘êµ ì‹ ë„ì‹œ Aêµ¬ì—­")
  center: {               // ì¤‘ì‹¬ ì¢Œí‘œ
    lat: number,
    lng: number
  },
  polygon: [             // í´ë¦¬ê³¤ ì¢Œí‘œ ë°°ì—´ (ì‹œê³„ë°©í–¥)
    [lat, lng],
    [lat, lng],
    ...
  ],
  details: {             // í™˜ê²½ ì§€í‘œ (greenLocationsì™€ ë™ì¼ êµ¬ì¡°)
    pm10Reduction: number,
    carbonAbsorption: number,
    thermalComfort: number,
    greenCoverage: number,
  },
  nearbyParks: string[],  // ì¸ê·¼ ë…¹ì§€ì‹œì„¤ ì´ë¦„ ë°°ì—´
  description: string    // êµ¬ì—­ ì„¤ëª…
}
```

**ë°ì´í„° ì˜ˆì‹œ**:
- ì´ 8ê°œì˜ ì£¼ê±°êµ¬ì—­ ë°ì´í„° í¬í•¨
- ê° êµ¬ì—­ë³„ í´ë¦¬ê³¤ ì¢Œí‘œë¡œ ì§€ë„ì— ì˜ì—­ í‘œì‹œ
- ì¸ê·¼ ë…¹ì§€ì‹œì„¤ ì •ë³´ë¡œ ì—°ê³„ ì¶”ì²œ

**ì‚¬ìš© ìœ„ì¹˜**:
- `src/components/Map/ResidentialZone.jsx`: í´ë¦¬ê³¤ ë Œë”ë§
- `src/components/Map/ZoneDetailModal.jsx`: ìƒì„¸ ë¶„ì„ ëª¨ë‹¬
- `src/components/Map/GreenMap.jsx`: ì§€ë„ì— ì£¼ê±°êµ¬ì—­ í‘œì‹œ

#### 1.3 ìŠµê´€ ë°ì´í„° (`ecoHabits`)
8ê°€ì§€ ì¹œí™˜ê²½ ìŠµê´€ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë°ì´í„°ì…ë‹ˆë‹¤.

**ë°ì´í„° êµ¬ì¡°**:
```javascript
{
  id: number,        // ìŠµê´€ ID (1-8)
  text: string,      // ìŠµê´€ ì„¤ëª… (ì˜ˆ: "í…€ë¸”ëŸ¬ ì‚¬ìš©í•˜ê¸°")
  icon: string       // Lucide ì•„ì´ì½˜ ì´ë¦„ (ì˜ˆ: "Coffee")
}
```

**ìŠµê´€ ëª©ë¡**:
1. í…€ë¸”ëŸ¬ ì‚¬ìš©í•˜ê¸° (Coffee)
2. ëŒ€ì¤‘êµí†µ ì´ìš©í•˜ê¸° (Bus)
3. ì¼íšŒìš©í’ˆ ê±°ì ˆí•˜ê¸° (ShoppingBag)
4. ì¥ë°”êµ¬ë‹ˆ ì‚¬ìš©í•˜ê¸° (ShoppingBasket)
5. í”ŒëŸ¬ê·¸ ë½‘ê¸° (Plug)
6. ê³„ë‹¨ ì´ìš©í•˜ê¸° (TrendingUp)
7. ì±„ì‹ í•œ ë¼ ì‹¤ì²œ (Leaf)
8. ì“°ë ˆê¸° ë¶„ë¦¬ìˆ˜ê±° (Recycle)

**ì‚¬ìš© ìœ„ì¹˜**:
- `src/pages/TrackerPage.jsx`: ìŠµê´€ ì²´í¬ë¦¬ìŠ¤íŠ¸ í‘œì‹œ
- `src/components/Tracker/HabitList.jsx`: ìŠµê´€ ëª©ë¡ ì»´í¬ë„ŒíŠ¸
- `src/utils/habitLocationMapper.js`: ìŠµê´€-ì¥ì†Œ ë§¤í•‘
- `src/utils/environmentalImpact.js`: í™˜ê²½ ê¸°ì—¬ë„ ê³„ì‚°

**í™˜ê²½ ê¸°ì—¬ë„ ë°ì´í„°** (`environmentalImpact.js`):
ê° ìŠµê´€ë³„ CO2 ì ˆê°ëŸ‰ì´ í•˜ë“œì½”ë”©ë˜ì–´ ìˆìŠµë‹ˆë‹¤:
- í…€ë¸”ëŸ¬: 0.15kg CO2
- ëŒ€ì¤‘êµí†µ: 0.8kg CO2
- ì¼íšŒìš©í’ˆ ê±°ì ˆ: 0.1kg CO2
- ì¥ë°”êµ¬ë‹ˆ: 0.05kg CO2
- í”ŒëŸ¬ê·¸ ë½‘ê¸°: 0.2kg CO2
- ê³„ë‹¨ ì´ìš©: 0.1kg CO2
- ì±„ì‹ í•œ ë¼: 1.5kg CO2
- ë¶„ë¦¬ìˆ˜ê±°: 0.3kg CO2

#### 1.4 ë§ˆì»¤ íƒ€ì… ì •ë³´ (`markerTypes`)
ì§€ë„ ë§ˆì»¤ì˜ íƒ€ì…ë³„ ìŠ¤íƒ€ì¼ ì •ë³´ì…ë‹ˆë‹¤.

**ë°ì´í„° êµ¬ì¡°**:
```javascript
{
  PARK: {
    label: "ê³µì›",
    color: "#10b981",      // emerald-500
    icon: "TreeDeciduous"
  },
  SHELTER: {
    label: "ë¬´ë”ìœ„ì‰¼í„°",
    color: "#14b8a6",      // teal-500
    icon: "Tent"
  },
  TRAIL: {
    label: "ì‚°ì±…ë¡œ",
    color: "#059669",      // emerald-600
    icon: "Route"
  }
}
```

**ì‚¬ìš© ìœ„ì¹˜**:
- `src/components/Map/GreenMap.jsx`: `createCustomIcon()` í•¨ìˆ˜ì—ì„œ ë§ˆì»¤ ì•„ì´ì½˜ ìƒì„±

#### 1.5 ê¸°ë³¸ ìœ„ì¹˜ (`defaultCenter`)
ì§€ë„ ì´ˆê¸° ì¤‘ì‹¬ ì¢Œí‘œì…ë‹ˆë‹¤.

**ë°ì´í„° êµ¬ì¡°**:
```javascript
{
  lat: 37.275,   // ê²½ê¸°ë„ì²­ ìœ„ë„
  lng: 127.010   // ê²½ê¸°ë„ì²­ ê²½ë„
}
```

**ì‚¬ìš© ìœ„ì¹˜**:
- `src/components/Map/GreenMap.jsx`: `MapContainer`ì˜ `center` prop

---

### 2. ìš©ì–´ ì •ì˜ ë°ì´í„°
**íŒŒì¼ ìœ„ì¹˜**: `src/data/terminology.js`

**ë°ì´í„° êµ¬ì¡°**:
```javascript
{
  "ë¯¸ì„¸ë¨¼ì§€ ì €ê°": "ë‚˜ë¬´ì™€ ìˆ²ì´ ëŒ€ê¸° ì¤‘ì˜ ì˜¤ì—¼ ë¬¼ì§ˆì„ í¡ì°©í•˜ì—¬ ê³µê¸°ë¥¼ ë§‘ê²Œ í•˜ëŠ” ëŠ¥ë ¥ì…ë‹ˆë‹¤.",
  "íƒ„ì†Œ í¡ìˆ˜ëŸ‰": "ë‚˜ë¬´ê°€ ê´‘í•©ì„±ì„ í†µí•´ ëŒ€ê¸° ì¤‘ì˜ ì´ì‚°í™”íƒ„ì†Œë¥¼ í¡ìˆ˜í•˜ê³  ì €ì¥í•˜ëŠ” ì–‘ì…ë‹ˆë‹¤.",
  "ì—´ì¾Œì ì„±": "ì—¬ë¦„ì²  ë‚˜ë¬´ ê·¸ëŠ˜ê³¼ ì¦ì‚° ì‘ìš©ìœ¼ë¡œ ì£¼ë³€ ì˜¨ë„ë¥¼ ë‚®ì¶”ì–´ ì‚¬ëŒì´ ëŠë¼ëŠ” ì‹œì›í•œ ì •ë„ì…ë‹ˆë‹¤.",
  "ë…¹ì§€ ë©´ì ": "í•´ë‹¹ êµ¬ì—­ ë‚´ì—ì„œ ì‹ë¬¼ì´ ìë¼ê³  ìˆëŠ” ë•…ì˜ ë¹„ìœ¨ì…ë‹ˆë‹¤."
}
```

**ì‚¬ìš© ìœ„ì¹˜**:
- `src/components/common/TermTooltip.jsx`: íˆ´íŒì—ì„œ ìš©ì–´ ì„¤ëª… í‘œì‹œ
- `src/components/Map/LocationModal.jsx`: ì§€í‘œ ì„¤ëª… íˆ´íŒ
- `src/components/Map/ZoneDetailModal.jsx`: ì§€í‘œ ì„¤ëª… íˆ´íŒ

**í•¨ìˆ˜**:
- `getTermDefinition(term)`: ìš©ì–´ëª…ì„ ë°›ì•„ ì„¤ëª… ë°˜í™˜

---

### 3. ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ (localStorage)

#### 3.1 ì €ì¥ ë°ì´í„° êµ¬ì¡°
**ìŠµê´€ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì™„ë£Œ ìƒíƒœ**:
- **í‚¤ í˜•ì‹**: `habits-YYYY-MM-DD` (ì˜ˆ: `habits-2024-01-15`)
- **ê°’ í˜•ì‹**: `{ [habitId]: boolean }` (ì˜ˆ: `{ 1: true, 2: false, 3: true }`)
- **ì €ì¥ ìœ„ì¹˜**: ë¸Œë¼ìš°ì € localStorage

**ì˜ˆì‹œ ë°ì´í„°**:
```javascript
{
  "habits-2024-01-15": {
    "1": true,   // í…€ë¸”ëŸ¬ ì‚¬ìš©í•˜ê¸° ì™„ë£Œ
    "2": true,   // ëŒ€ì¤‘êµí†µ ì´ìš©í•˜ê¸° ì™„ë£Œ
    "3": false,  // ì¼íšŒìš©í’ˆ ê±°ì ˆí•˜ê¸° ë¯¸ì™„ë£Œ
    ...
  },
  "habits-2024-01-14": {
    "1": true,
    "2": false,
    ...
  }
}
```

#### 3.2 Storage ìœ í‹¸ë¦¬í‹°
**íŒŒì¼ ìœ„ì¹˜**: `src/utils/storage.js`

**ì£¼ìš” í•¨ìˆ˜**:
- `isStorageAvailable()`: localStorage ì‚¬ìš© ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸
- `safeGetItem(key, defaultValue)`: ì•ˆì „í•˜ê²Œ ê°’ ê°€ì ¸ì˜¤ê¸°
- `safeSetItem(key, value)`: ì•ˆì „í•˜ê²Œ ê°’ ì €ì¥í•˜ê¸°
- `getItem(key, defaultValue)`: ë©”ëª¨ë¦¬ í´ë°± í¬í•¨ ê°’ ê°€ì ¸ì˜¤ê¸°
- `setItem(key, value)`: ë©”ëª¨ë¦¬ í´ë°± í¬í•¨ ê°’ ì €ì¥í•˜ê¸°

**ë©”ëª¨ë¦¬ í´ë°± ì‹œìŠ¤í…œ**:
- localStorage ì ‘ê·¼ ë¶ˆê°€ ì‹œ (ì‹œí¬ë¦¿ ëª¨ë“œ, iframe ë“±) ìë™ìœ¼ë¡œ ë©”ëª¨ë¦¬ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©
- `memoryStorage` Map ê°ì²´ë¡œ ì„¸ì…˜ ë™ì•ˆ ë°ì´í„° ìœ ì§€

#### 3.3 useLocalStorage í›…
**íŒŒì¼ ìœ„ì¹˜**: `src/hooks/useLocalStorage.js`

**ì‚¬ìš©ë²•**:
```javascript
const [checkedHabits, setCheckedHabits, isStorageReady] = useLocalStorage(
  `habits-${today}`, 
  {}
);
```

**ë°˜í™˜ê°’**:
- `checkedHabits`: í˜„ì¬ ì €ì¥ëœ ê°’
- `setCheckedHabits`: ê°’ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
- `isStorageReady`: localStorage ì‚¬ìš© ê°€ëŠ¥ ì—¬ë¶€ (boolean)

**ì‚¬ìš© ìœ„ì¹˜**:
- `src/pages/TrackerPage.jsx`: ìŠµê´€ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒíƒœ ê´€ë¦¬

**íŠ¹ì§•**:
- Storage ì ‘ê·¼ ì‹¤íŒ¨ ì‹œ ìë™ìœ¼ë¡œ ë©”ëª¨ë¦¬ ëª¨ë“œë¡œ ì „í™˜
- ì‚¬ìš©ìì—ê²Œ Storage ìƒíƒœ ì•Œë¦¼ (`isStorageReady` í”Œë˜ê·¸)

---

## ğŸ”„ ë°ì´í„° ì²˜ë¦¬ ë° ë³€í™˜

### 1. ê·¸ë¦° ìŠ¤ì½”ì–´ ê³„ì‚°
**íŒŒì¼ ìœ„ì¹˜**: `src/utils/scoreCalculator.js`

**ì•Œê³ ë¦¬ì¦˜**:
```javascript
Green Score = 
  (pm10Reduction Ã— 0.30) +
  (normalizeCarbonAbsorption(carbonAbsorption) Ã— 0.25) +
  (thermalComfort Ã— 0.25) +
  (greenCoverage Ã— 0.20)
```

**ê°€ì¤‘ì¹˜**:
- ë¯¸ì„¸ë¨¼ì§€ ì €ê°: 30%
- íƒ„ì†Œ í¡ìˆ˜ëŸ‰: 25% (0-5í†¤/ë…„ ë²”ìœ„ë¡œ ì •ê·œí™”)
- ì—´ì¾Œì ì„±: 25%
- ë…¹ì§€ ë©´ì : 20%

**íƒ„ì†Œ í¡ìˆ˜ëŸ‰ ì •ê·œí™”**:
- ìµœëŒ€ê°’: 5í†¤/ë…„
- ìµœì†Œê°’: 0í†¤/ë…„
- ê³µì‹: `(carbonAbsorption / 5) Ã— 100`

**ì ìˆ˜ë³„ ë“±ê¸‰**:
- 85ì  ì´ìƒ: A+ (ìµœìš°ìˆ˜) - emerald-500
- 70-84ì : A (ìš°ìˆ˜) - teal-500
- 55-69ì : B (ì–‘í˜¸) - amber-500
- 40-54ì : C (ë³´í†µ) - orange-500
- 40ì  ë¯¸ë§Œ: D (ê°œì„ í•„ìš”) - red-500

### 2. í™˜ê²½ ê¸°ì—¬ë„ ê³„ì‚°
**íŒŒì¼ ìœ„ì¹˜**: `src/utils/environmentalImpact.js`

**ê³„ì‚° í•­ëª©**:
1. **CO2 ì ˆê°ëŸ‰**: ì™„ë£Œí•œ ìŠµê´€ë³„ CO2 ì ˆê°ëŸ‰ í•©ì‚°
2. **ë‚˜ë¬´ ì‹¬ê¸° ê°œìˆ˜ í™˜ì‚°**: 1ê·¸ë£¨ = 20kg CO2/ë…„, ì¼ì¼ í™˜ì‚° ì•½ 0.055kg
3. **ìë™ì°¨ ì£¼í–‰ ê±°ë¦¬ í™˜ì‚°**: 1km = ì•½ 0.12kg CO2
4. **ì¹´í…Œê³ ë¦¬ë³„ ê¸°ì—¬ë„**: íê¸°ë¬¼, ì´ë™ìˆ˜ë‹¨, ì—ë„ˆì§€, ì‹ìŠµê´€

**í™˜ì‚° ê³µì‹**:
```javascript
ë‚˜ë¬´ í™˜ì‚° = totalCO2 / 0.055
ìë™ì°¨ ì£¼í–‰ ê±°ë¦¬ = totalCO2 / 0.12
```

### 3. ìŠµê´€-ì¥ì†Œ ë§¤í•‘
**íŒŒì¼ ìœ„ì¹˜**: `src/utils/habitLocationMapper.js`

**ë§¤í•‘ ê·œì¹™**:
- ê° ìŠµê´€ì— ê´€ë ¨ëœ ì¥ì†Œ íƒ€ì… ì •ì˜
- ì™„ë£Œëœ ìŠµê´€ì— ë”°ë¼ ê´€ë ¨ ì¥ì†Œ í•„í„°ë§
- ì •ë ¬ ê¸°ì¤€ ê°€ì¤‘ì¹˜ ê³„ì‚° (ì—¬ëŸ¬ ìŠµê´€ ì™„ë£Œ ì‹œ)
- ìµœëŒ€ 5ê°œ ì¥ì†Œ ì¶”ì²œ

**ìŠµê´€ë³„ ì¶”ì²œ ì¥ì†Œ íƒ€ì…**:
- í…€ë¸”ëŸ¬ ì‚¬ìš© â†’ ê³µì› (ë…¹ì§€ ë©´ì  ê¸°ì¤€)
- ëŒ€ì¤‘êµí†µ ì´ìš© â†’ ì‚°ì±…ë¡œ (ì—´ì¾Œì ì„± ê¸°ì¤€)
- ì¼íšŒìš©í’ˆ ê±°ì ˆ â†’ ê³µì›, ì‚°ì±…ë¡œ (ë¯¸ì„¸ë¨¼ì§€ ì €ê° ê¸°ì¤€)
- ì¥ë°”êµ¬ë‹ˆ ì‚¬ìš© â†’ ê³µì› (ë…¹ì§€ ë©´ì  ê¸°ì¤€)
- í”ŒëŸ¬ê·¸ ë½‘ê¸° â†’ ê³µì›, ì‚°ì±…ë¡œ (íƒ„ì†Œ í¡ìˆ˜ëŸ‰ ê¸°ì¤€)
- ê³„ë‹¨ ì´ìš© â†’ ì‚°ì±…ë¡œ (ì—´ì¾Œì ì„± ê¸°ì¤€)
- ì±„ì‹ í•œ ë¼ â†’ ê³µì› (ë…¹ì§€ ë©´ì  ê¸°ì¤€)
- ë¶„ë¦¬ìˆ˜ê±° â†’ ê³µì›, ì‚°ì±…ë¡œ (ë¯¸ì„¸ë¨¼ì§€ ì €ê° ê¸°ì¤€)

---

## ğŸ“Š ë°ì´í„° íë¦„

### ì „ì²´ ë°ì´í„° íë¦„ë„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Mock ë°ì´í„° (mockClimateData.js)   â”‚
â”‚  - greenLocations                    â”‚
â”‚  - residentialZones                 â”‚
â”‚  - ecoHabits                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚                              â”‚
               â–¼                              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ì§€ë„ ì»´í¬ë„ŒíŠ¸        â”‚    â”‚  ìŠµê´€ íŠ¸ë˜ì»¤         â”‚
    â”‚  (GreenMap.jsx)      â”‚    â”‚  (TrackerPage.jsx)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                            â”‚
               â”‚                            â”‚
               â–¼                            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ìƒì„¸ ëª¨ë‹¬           â”‚    â”‚  localStorage        â”‚
    â”‚  (LocationModal)    â”‚    â”‚  (habits-YYYY-MM-DD) â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                            â”‚
               â”‚                            â”‚
               â–¼                            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ì ìˆ˜ ê³„ì‚°           â”‚    â”‚  í†µê³„ ê³„ì‚°            â”‚
    â”‚  (scoreCalculator)   â”‚    â”‚  (habitUtils)         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                            â”‚
               â”‚                            â”‚
               â–¼                            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  í™˜ê²½ ê¸°ì—¬ë„ ê³„ì‚°     â”‚    â”‚  ì¶”ì²œ ì¥ì†Œ ê³„ì‚°       â”‚
    â”‚  (environmentalImpact)â”‚   â”‚  (mapIntegration)    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ìƒì„¸ ë°ì´í„° íë¦„

#### 1. ì§€ë„ í‘œì‹œ íë¦„
```
greenLocations ë°°ì—´
    â†“
GreenMap.jsxì—ì„œ import
    â†“
createCustomIcon()ë¡œ ë§ˆì»¤ ì•„ì´ì½˜ ìƒì„±
    â†“
Leaflet Marker ì»´í¬ë„ŒíŠ¸ë¡œ ì§€ë„ì— í‘œì‹œ
    â†“
ë§ˆì»¤ í´ë¦­ ì‹œ LocationModal ì—´ë¦¼
    â†“
ìƒì„¸ ì •ë³´ í‘œì‹œ (score, details ë“±)
```

#### 2. ìŠµê´€ ì²´í¬ íë¦„
```
TrackerPage.jsxì—ì„œ ecoHabits ë¡œë“œ
    â†“
ì‚¬ìš©ìê°€ ìŠµê´€ ì²´í¬
    â†“
handleToggle() í˜¸ì¶œ
    â†“
useLocalStorageë¡œ ìƒíƒœ ì—…ë°ì´íŠ¸
    â†“
localStorageì— ì €ì¥ (í‚¤: habits-YYYY-MM-DD)
    â†“
App.jsxì—ì„œ getTodayHabitCompletion() í˜¸ì¶œ
    â†“
getRecommendedLocations()ë¡œ ì¶”ì²œ ì¥ì†Œ ê³„ì‚°
    â†“
MapPageì— ì¶”ì²œ ì¥ì†Œ ì „ë‹¬
    â†“
ì§€ë„ì— ì¶”ì²œ ë§ˆì»¤ í‘œì‹œ
```

#### 3. í†µê³„ ê³„ì‚° íë¦„
```
localStorageì—ì„œ ë‚ ì§œë³„ ìŠµê´€ ë°ì´í„° ë¡œë“œ
    â†“
habitUtils.jsì˜ í•¨ìˆ˜ë“¤ë¡œ ê³„ì‚°
    - calculateStreak(): ì—°ì† ë‹¬ì„± ì¼ìˆ˜
    - getWeeklyAverage(): ì£¼ê°„ í‰ê· 
    - getWeeklyData(): ì£¼ê°„ ë°ì´í„°
    - getMonthlyData(): ì›”ê°„ ë°ì´í„°
    â†“
StatsPage.jsxì—ì„œ ì°¨íŠ¸ë¡œ ì‹œê°í™”
```

---

## ğŸ”Œ API ì‚¬ìš© í˜„í™©

### âŒ ì‹¤ì œ API ë¯¸ì‚¬ìš©
í˜„ì¬ í”„ë¡œì íŠ¸ëŠ” **ì‹¤ì œ APIë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©°**, ëª¨ë“  ë°ì´í„°ëŠ” Mock ë°ì´í„°ë¡œ ë™ì‘í•©ë‹ˆë‹¤.

**ì´ìœ **:
- í”„ë¡œí† íƒ€ì… ë‹¨ê³„ì—ì„œ UI/UX ê²€ì¦ ìš°ì„ 
- ì‹¤ì œ API ì—°ë™ ì „ ë°ì´í„° êµ¬ì¡° ë° ë¡œì§ ê²€ì¦
- ê°œë°œ í™˜ê²½ì—ì„œ ë¹ ë¥¸ ë°˜ë³µ ê°œë°œ ê°€ëŠ¥

### âœ… API ì—°ë™ ì¤€ë¹„ ìƒíƒœ

#### 1. ë°ì´í„° ì •ê·œí™” í•¨ìˆ˜
**íŒŒì¼ ìœ„ì¹˜**: `src/utils/scoreCalculator.js`

**í•¨ìˆ˜**: `normalizeApiData(apiData)`

**ê¸°ëŠ¥**:
- APIì—ì„œ ë°›ì€ ì›ì‹œ ë°ì´í„°ë¥¼ í‘œì¤€ í˜•ì‹ìœ¼ë¡œ ë³€í™˜
- ë‹¤ì–‘í•œ API ì‘ë‹µ í˜•ì‹ì— ëŒ€ì‘ ê°€ëŠ¥

**ì½”ë“œ**:
```javascript
export function normalizeApiData(apiData) {
  return {
    pm10Reduction: apiData.pm10Reduction || apiData.airQuality || 0,
    carbonAbsorption: apiData.carbonAbsorption || apiData.carbon || 0,
    thermalComfort: apiData.thermalComfort || apiData.comfort || 0,
    greenCoverage: apiData.greenCoverage || apiData.greenArea || 0,
  };
}
```

**ì‚¬ìš© ì˜ˆì‹œ**:
```javascript
// API ì‘ë‹µì´ ë‹¤ì–‘í•œ í˜•ì‹ì¼ ìˆ˜ ìˆìŒ
const apiResponse1 = { pm10Reduction: 85, carbonAbsorption: 2.4, ... };
const apiResponse2 = { airQuality: 85, carbon: 2.4, ... };

// normalizeApiDataë¡œ í†µì¼ëœ í˜•ì‹ìœ¼ë¡œ ë³€í™˜
const normalized1 = normalizeApiData(apiResponse1);
const normalized2 = normalizeApiData(apiResponse2);
// ë‘˜ ë‹¤ ë™ì¼í•œ êµ¬ì¡°ë¡œ ë³€í™˜ë¨
```

#### 2. ì ìˆ˜ ê³„ì‚° í•¨ìˆ˜
**íŒŒì¼ ìœ„ì¹˜**: `src/utils/scoreCalculator.js`

**í•¨ìˆ˜**: `calculateGreenScore(details)`

**íŠ¹ì§•**:
- í‘œì¤€í™”ëœ `details` ê°ì²´ë¥¼ ë°›ì•„ ê·¸ë¦° ìŠ¤ì½”ì–´ ê³„ì‚°
- API ë°ì´í„°ë¥¼ `normalizeApiData()`ë¡œ ë³€í™˜ í›„ ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥

---

## ğŸš€ í–¥í›„ API ì—°ë™ ê³„íš

### ì˜ˆìƒ API ì—”ë“œí¬ì¸íŠ¸

#### 1. ê²½ê¸°ë„ ê¸°í›„ìœ„ì„±ë°ì´í„° API
- **ìš©ë„**: ë…¹ì§€ì‹œì„¤ í™˜ê²½ ì§€í‘œ ë°ì´í„°
- **ë°ì´í„°**: ë¯¸ì„¸ë¨¼ì§€ ì €ê°, íƒ„ì†Œ í¡ìˆ˜ëŸ‰, ì—´ì¾Œì ì„±, ë…¹ì§€ ë©´ì 
- **í˜•ì‹**: JSON
- **ì¸ì¦**: API í‚¤ í•„ìš”

#### 2. ê³µê³µë°ì´í„°í¬í„¸ API
- **ìš©ë„**: ê³µì›, ë¬´ë”ìœ„ì‰¼í„° ìœ„ì¹˜ ì •ë³´
- **ë°ì´í„°**: ì¥ì†Œëª…, ì¢Œí‘œ, íƒ€ì…
- **í˜•ì‹**: XML ë˜ëŠ” JSON
- **ì¸ì¦**: ì„œë¹„ìŠ¤ í‚¤ í•„ìš”

#### 3. ê·¸ë¦°ì¸í”„ë¼ ë°ì´í„° API
- **ìš©ë„**: ì£¼ê±°êµ¬ì—­ í™˜ê²½ ë¶„ì„ ë°ì´í„°
- **ë°ì´í„°**: í´ë¦¬ê³¤ ì¢Œí‘œ, í™˜ê²½ ì§€í‘œ
- **í˜•ì‹**: GeoJSON ë˜ëŠ” JSON
- **ì¸ì¦**: API í‚¤ í•„ìš”

### êµ¬í˜„ ì˜ˆì • ìœ„ì¹˜

#### 1. API ìœ í‹¸ë¦¬í‹° íŒŒì¼
**íŒŒì¼**: `src/utils/api.js` (ìƒˆë¡œ ìƒì„± ì˜ˆì •)

**ì˜ˆìƒ êµ¬ì¡°**:
```javascript
const API_BASE_URL = import.meta.env.VITE_API_BASE_URL;
const API_KEY = import.meta.env.VITE_API_KEY;

export async function fetchGreenLocations(lat, lng) {
  // API í˜¸ì¶œ ë¡œì§
  const response = await fetch(`${API_BASE_URL}/green-locations?lat=${lat}&lng=${lng}`);
  const data = await response.json();
  return normalizeApiData(data);
}

export async function fetchResidentialZones(bounds) {
  // API í˜¸ì¶œ ë¡œì§
}

export async function fetchClimateData(locationId) {
  // API í˜¸ì¶œ ë¡œì§
}
```

#### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
**íŒŒì¼**: `.env` (ìƒˆë¡œ ìƒì„± ì˜ˆì •)

**ì˜ˆìƒ ë‚´ìš©**:
```bash
VITE_API_BASE_URL=https://api.data.go.kr
VITE_API_KEY=your_api_key_here
VITE_API_TIMEOUT=5000
```

#### 3. ì—ëŸ¬ í•¸ë“¤ë§ ë° í´ë°±
- API í˜¸ì¶œ ì‹¤íŒ¨ ì‹œ Mock ë°ì´í„°ë¡œ ìë™ í´ë°±
- ë¡œë”© ìƒíƒœ í‘œì‹œ
- ì—ëŸ¬ ë©”ì‹œì§€ ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼

#### 4. ë°ì´í„° ìºì‹±
- ê°™ì€ ìœ„ì¹˜ì˜ ë°ì´í„°ëŠ” ì¼ì • ì‹œê°„ ë™ì•ˆ ìºì‹œ
- ë¶ˆí•„ìš”í•œ API í˜¸ì¶œ ë°©ì§€
- `src/utils/cache.js` (ìƒˆë¡œ ìƒì„± ì˜ˆì •)

---

## ğŸ“ ë°ì´í„° ì‚¬ìš© ì˜ˆì‹œ

### ì˜ˆì‹œ 1: ë…¹ì§€ì‹œì„¤ ìƒì„¸ ì •ë³´ í‘œì‹œ
```javascript
// 1. Mock ë°ì´í„°ì—ì„œ ë…¹ì§€ì‹œì„¤ ê°€ì ¸ì˜¤ê¸°
import { greenLocations } from '../data/mockClimateData';

// 2. íŠ¹ì • ì¥ì†Œ ì„ íƒ
const location = greenLocations.find(loc => loc.id === 1);

// 3. ê·¸ë¦° ìŠ¤ì½”ì–´ ê³„ì‚° (ì´ë¯¸ ê³„ì‚°ë˜ì–´ ìˆì§€ë§Œ ì¬ê³„ì‚° ê°€ëŠ¥)
import { calculateGreenScore } from '../utils/scoreCalculator';
const score = calculateGreenScore(location.details);

// 4. í™˜ê²½ ê¸°ì—¬ë„ ê³„ì‚°
import { calculateLocationImpact } from '../utils/environmentalImpact';
const impact = calculateLocationImpact(location, habitCompletion);

// 5. ëª¨ë‹¬ì— í‘œì‹œ
<LocationModal location={location} impact={impact} />
```

### ì˜ˆì‹œ 2: ìŠµê´€ ì™„ë£Œì— ë”°ë¥¸ ì¶”ì²œ ì¥ì†Œ ê³„ì‚°
```javascript
// 1. ì˜¤ëŠ˜ì˜ ìŠµê´€ ì™„ë£Œ ìƒíƒœ ê°€ì ¸ì˜¤ê¸°
import { getTodayHabitCompletion } from '../utils/mapIntegration';
const habitCompletion = getTodayHabitCompletion();
// ê²°ê³¼: { 1: true, 2: true, 3: false, ... }

// 2. ì¶”ì²œ ì¥ì†Œ ê³„ì‚°
import { getRecommendedLocationsByHabits } from '../utils/habitLocationMapper';
const recommended = getRecommendedLocationsByHabits(habitCompletion);
// ê²°ê³¼: [location1, location2, ...] (ìµœëŒ€ 5ê°œ)

// 3. ì§€ë„ì— ì¶”ì²œ ë§ˆì»¤ í‘œì‹œ
<GreenMap recommendedLocations={recommended} />
```

### ì˜ˆì‹œ 3: í†µê³„ ë°ì´í„° ê³„ì‚°
```javascript
// 1. ì—°ì† ë‹¬ì„± ì¼ìˆ˜ ê³„ì‚°
import { calculateStreak } from '../utils/habitUtils';
const streak = calculateStreak();
// ë¡œì§: localStorageì—ì„œ ë‚ ì§œë³„ ë°ì´í„°ë¥¼ í™•ì¸í•˜ì—¬ ì—°ì† ì™„ë£Œ ì¼ìˆ˜ ê³„ì‚°

// 2. ì£¼ê°„ í‰ê·  ê³„ì‚°
import { getWeeklyAverage } from '../utils/habitUtils';
const weeklyAvg = getWeeklyAverage();
// ë¡œì§: ìµœê·¼ 7ì¼ê°„ì˜ ì™„ë£Œìœ¨ í‰ê·  ê³„ì‚°

// 3. ì£¼ê°„ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
import { getWeeklyData } from '../utils/habitUtils';
const weeklyData = getWeeklyData();
// ê²°ê³¼: [{ date: '2024-01-15', completion: 75 }, ...]
```

---

## ğŸ” ë°ì´í„° ê²€ì¦ ë° í’ˆì§ˆ ê´€ë¦¬

### í˜„ì¬ ìƒíƒœ
- âœ… Mock ë°ì´í„° êµ¬ì¡° ê²€ì¦ ì™„ë£Œ
- âœ… ë°ì´í„° íƒ€ì… ì¼ê´€ì„± ìœ ì§€
- âœ… í•„ìˆ˜ í•„ë“œ ì¡´ì¬ í™•ì¸

### í–¥í›„ ê°œì„  ì‚¬í•­
- [ ] API ì‘ë‹µ ë°ì´í„° ê²€ì¦ (ìŠ¤í‚¤ë§ˆ ê²€ì¦)
- [ ] ë°ì´í„° ìºì‹± ì „ëµ ìˆ˜ë¦½
- [ ] ì˜¤ë˜ëœ ë°ì´í„° ìë™ ê°±ì‹ 
- [ ] ì—ëŸ¬ ë°ì´í„° ì²˜ë¦¬ ë¡œì§

---

## ğŸ“Œ ìš”ì•½

### í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ ë°ì´í„°
1. **Mock ë°ì´í„°**: `mockClimateData.js`ì— í•˜ë“œì½”ë”©ëœ 7ê°œ ë…¹ì§€ì‹œì„¤, 8ê°œ ì£¼ê±°êµ¬ì—­, 8ê°œ ìŠµê´€
2. **localStorage**: ë‚ ì§œë³„ ìŠµê´€ ì™„ë£Œ ìƒíƒœ ì €ì¥
3. **ë©”ëª¨ë¦¬ ìŠ¤í† ë¦¬ì§€**: localStorage ì ‘ê·¼ ë¶ˆê°€ ì‹œ í´ë°±

### ë°ì´í„° ì²˜ë¦¬
1. **ê·¸ë¦° ìŠ¤ì½”ì–´ ê³„ì‚°**: 4ê°€ì§€ ì§€í‘œ ê°€ì¤‘ì¹˜ ê¸°ë°˜ (0-100ì )
2. **í™˜ê²½ ê¸°ì—¬ë„ ê³„ì‚°**: CO2 ì ˆê°ëŸ‰, ë‚˜ë¬´ í™˜ì‚°, ìë™ì°¨ ì£¼í–‰ ê±°ë¦¬ í™˜ì‚°
3. **ìŠµê´€-ì¥ì†Œ ë§¤í•‘**: ì™„ë£Œí•œ ìŠµê´€ì— ë”°ë¥¸ ë§ì¶¤í˜• ì¶”ì²œ

### API ìƒíƒœ
- âŒ ì‹¤ì œ API ë¯¸ì‚¬ìš©
- âœ… API ì—°ë™ ì¤€ë¹„ ì™„ë£Œ (`normalizeApiData()` í•¨ìˆ˜)
- ğŸ“‹ í–¥í›„ ê³µê³µë°ì´í„°í¬í„¸ API ì—°ë™ ì˜ˆì •

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2024ë…„
